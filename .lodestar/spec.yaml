project:
  name: lodestar
  default_branch: main
  conventions:
    commit_style: conventional
    test_framework: pytest
tasks:
  F001:
    title: Initialize Typer CLI app with entry point
    description: M0 skeleton. Use Typer for CLI framework. Entry point is lodestar.
      Create src/lodestar/cli/ structure with app.py.
    acceptance_criteria:
    - lodestar command runs without error
    - lodestar --help displays available commands
    - --version flag works
    depends_on: []
    labels:
    - cli
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941178'
    updated_at: '2025-12-27T10:18:05.941184'
  F002:
    title: Implement lodestar init command
    description: M0 skeleton. Creates two-plane structure. spec.yaml has project name
      and empty tasks dict. AGENTS.md provides quick-start for agents.
    acceptance_criteria:
    - Creates .lodestar/spec.yaml with default structure
    - Creates .lodestar/.gitignore for runtime files
    - Creates root AGENTS.md with agent instructions
    - Command is idempotent - safe to run multiple times
    - Supports --json output
    depends_on: []
    labels:
    - cli
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941194'
    updated_at: '2025-12-27T10:18:05.941194'
  F003:
    title: Implement lodestar doctor command
    description: M0 skeleton. Health check command. Should detect common problems
      like missing files or corrupted database.
    acceptance_criteria:
    - Validates .lodestar directory exists
    - Validates spec.yaml is valid YAML and schema-conformant
    - Validates runtime.sqlite is accessible
    - Reports issues with suggested fixes
    - Supports --json output
    depends_on: []
    labels:
    - cli
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941200'
    updated_at: '2025-12-27T10:18:05.941200'
  F004:
    title: Implement lodestar status command
    description: M0 skeleton. Progressive discovery entry point. When run with no
      args lodestar should behave like status.
    acceptance_criteria:
    - Shows repo initialized status
    - Shows agent registration status
    - Shows task counts by status (ready/blocked/claimed/done/verified)
    - Shows active agent count
    - Suggests next actions (3-5 commands)
    - Supports --json output
    depends_on: []
    labels:
    - cli
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941205'
    updated_at: '2025-12-27T10:18:05.941205'
  F005:
    title: Implement spec plane with YAML schema
    description: M0 skeleton. Core spec plane. Use Pydantic v2 for models. spec.yaml
      is committed to git. Validate depends_on references exist.
    acceptance_criteria:
    - spec.yaml loads and validates against Pydantic schema
    - Project section with name and default_branch
    - Tasks dictionary with all required fields
    - Atomic file writes with portalocker
    - DAG cycle detection on save
    depends_on: []
    labels:
    - spec
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941209'
    updated_at: '2025-12-27T10:18:05.941209'
  F006:
    title: Implement runtime plane with SQLite WAL
    description: M0 skeleton. Core runtime plane. Use SQLite WAL for concurrent access.
      Tables agents/leases/messages/events(optional).
    acceptance_criteria:
    - runtime.sqlite created with WAL mode
    - agents table with schema from PRD
    - leases table with schema from PRD
    - messages table with schema from PRD
    - Database migrations framework
    - Gitignored automatically
    depends_on: []
    labels:
    - runtime
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941213'
    updated_at: '2025-12-27T10:18:05.941214'
  F007:
    title: Implement Pydantic models with JSON Schema export
    description: M0 skeleton. Models in src/lodestar/models/. Every command must support
      --schema to export its output schema.
    acceptance_criteria:
    - All spec models defined with Pydantic v2
    - All runtime models defined with Pydantic v2
    - JSON Schema export via --schema flag
    - Consistent JSON envelope structure (ok/data/next/warnings)
    depends_on: []
    labels:
    - models
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941218'
    updated_at: '2025-12-27T10:18:05.941218'
  F008:
    title: Implement --json and --explain flags for all commands
    description: M0 skeleton. Core CLI infrastructure. Use Rich for human output but
      disable for --json. --explain helps agents understand what commands do.
    acceptance_criteria:
    - All commands support --json flag
    - --json output uses consistent envelope structure
    - No ANSI codes in --json output
    - All commands support --explain flag
    - --explain returns agent-friendly command description
    depends_on: []
    labels:
    - cli
    - m0
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941224'
    updated_at: '2025-12-27T10:18:05.941225'
  F009:
    title: Implement lodestar agent join command
    description: M1 agent identity. Canonical entrypoint for agents. agent_id should
      be stable UUID. Store in runtime.sqlite agents table.
    acceptance_criteria:
    - Registers new agent with unique agent_id
    - Resumes existing agent if already registered
    - Returns agent_id in JSON response
    - Returns suggested next actions
    - Stores session_meta (tool name and model)
    - Supports --json output
    depends_on: []
    labels:
    - agent
    - m1
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941228'
    updated_at: '2025-12-27T10:18:05.941229'
  F010:
    title: Implement lodestar agent list command
    description: M1 agent identity. Show agents from runtime.sqlite. Active = last_seen_at
      within configurable window.
    acceptance_criteria:
    - Lists all registered agents
    - Shows agent_id and display_name and last_seen_at
    - Filters by active/inactive status
    - Supports --json output
    depends_on: []
    labels:
    - agent
    - m1
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941237'
    updated_at: '2025-12-27T10:18:05.941238'
  F011:
    title: Implement lodestar agent heartbeat command
    description: M1 agent identity. Updates agents.last_seen_at. Allows agents to
      signal they are still active.
    acceptance_criteria:
    - Updates last_seen_at for current agent
    - Returns time until next heartbeat needed
    - Can be called periodically by agent
    - Supports --json output
    depends_on: []
    labels:
    - agent
    - m1
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941241'
    updated_at: '2025-12-27T10:18:05.941242'
  F012:
    title: Implement lodestar agent brief command
    description: M1 agent identity. Used by orchestrator to spawn sub-agents. Brief
      should be self-contained context for task execution.
    acceptance_criteria:
    - Generates brief for specified task
    - Includes goal and acceptance criteria
    - Includes allowed paths/locks
    - Includes check commands
    - Supports --format flag (copilot/claude/generic)
    - Supports --json output
    depends_on: []
    labels:
    - agent
    - m1
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941246'
    updated_at: '2025-12-27T10:18:05.941246'
  F013:
    title: Implement lodestar task list command
    description: M2 tasks. Read from spec.yaml. Show which tasks are blocked vs ready.
      Cross-reference with runtime for claim status.
    acceptance_criteria:
    - Lists all tasks from spec.yaml
    - Shows task_id and title and status
    - Filters by status and labels
    - Shows dependency status
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941250'
    updated_at: '2025-12-27T10:18:05.941251'
  F014:
    title: Implement lodestar task show command
    description: M2 tasks. Merge spec and runtime data. Show which deps are satisfied
      vs pending.
    acceptance_criteria:
    - Shows full task details by ID
    - Shows all fields from spec
    - Shows current claim status from runtime
    - Shows dependency tree
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941254'
    updated_at: '2025-12-27T10:18:05.941255'
  F015:
    title: Implement lodestar task create command
    description: M2 tasks. Atomic write with portalocker. DAG validation is critical.
      Task IDs can be arbitrary strings or auto-generated.
    acceptance_criteria:
    - Creates new task in spec.yaml
    - Validates required fields
    - Validates depends_on references exist
    - Validates no DAG cycles created
    - Assigns unique task_id if not provided
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941258'
    updated_at: '2025-12-27T10:18:05.941259'
  F016:
    title: Implement lodestar task update command
    description: M2 tasks. Update any field except task_id. Re-validate DAG on dependency
      changes.
    acceptance_criteria:
    - Updates existing task fields
    - Validates field values
    - Validates no DAG cycles if depends_on changes
    - Atomic spec.yaml write
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941262'
    updated_at: '2025-12-27T10:18:05.941263'
  F017:
    title: Implement lodestar task next command
    description: M2 tasks. Core scheduling command. Must filter out expired leases.
      Include priority sorting.
    acceptance_criteria:
    - Returns only claimable tasks
    - Claimable = status ready AND all depends_on verified
    - Sorted by priority (lower number = higher priority)
    - Excludes tasks with active claims
    - Returns suggested claim command
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941266'
    updated_at: '2025-12-27T10:18:05.941267'
  F018:
    title: Implement lodestar task graph command
    description: M2 tasks. DAG visualization. Useful for external schedulers or debugging.
      Consider graphviz DOT format as --format dot.
    acceptance_criteria:
    - Exports task DAG as JSON
    - Optional DOT format output
    - Shows dependency relationships
    - Shows task statuses
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941270'
    updated_at: '2025-12-27T10:18:05.941271'
  F019:
    title: Implement DAG validation for task dependencies
    description: M2 tasks. Core spec validation. Use topological sort or DFS for cycle
      detection. Critical for task scheduling correctness.
    acceptance_criteria:
    - Detects cycles in depends_on graph
    - Validates all depends_on references exist
    - Runs on spec load and save
    - Returns clear error messages for violations
    - Prevents invalid spec from being saved
    depends_on: []
    labels:
    - spec
    - m2
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941276'
    updated_at: '2025-12-27T10:18:05.941276'
  F020:
    title: Implement lodestar task done command
    description: M2 tasks. Transition from claimed to done. Agent must hold the lease.
      Consider validation of acceptance criteria.
    acceptance_criteria:
    - Marks task status as done
    - Requires active claim by current agent
    - Releases the lease
    - Updates spec.yaml atomically
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941280'
    updated_at: '2025-12-27T10:18:05.941280'
  F021:
    title: Implement lodestar task verify command
    description: M2 tasks. Final task state. Verified tasks satisfy dependencies.
      May be done by different agent than implementer.
    acceptance_criteria:
    - Marks task status as verified
    - Verifies task was in done status
    - Updates spec.yaml atomically
    - Unlocks dependent tasks
    - Supports --json output
    depends_on: []
    labels:
    - task
    - m2
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941284'
    updated_at: '2025-12-27T10:18:05.941284'
  F022:
    title: Implement lodestar task claim command
    description: M3 leases. Core claim logic. Use SQLite transaction for atomicity.
      Check task status=ready AND deps satisfied AND no active lease.
    acceptance_criteria:
    - Creates lease for task with TTL
    - Only succeeds if task is claimable
    - Only succeeds if no active lease exists
    - Atomic transaction prevents race conditions
    - Default TTL is 15 minutes
    - Supports --ttl flag for custom TTL
    - Supports --json output
    depends_on: []
    labels:
    - lease
    - m3
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941287'
    updated_at: '2025-12-27T10:18:05.941288'
  F023:
    title: Implement lodestar task renew command
    description: M3 leases. Keep lease alive while working. Default renewal extends
      by same TTL as original claim.
    acceptance_criteria:
    - Extends lease expires_at
    - Only current lease holder can renew
    - Returns new expiration time
    - Supports --ttl flag for renewal duration
    - Supports --json output
    depends_on: []
    labels:
    - lease
    - m3
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941293'
    updated_at: '2025-12-27T10:18:05.941293'
  F024:
    title: Implement lodestar task release command
    description: M3 leases. Abandon work without marking done. Useful when agent cannot
      complete the task.
    acceptance_criteria:
    - Releases lease without completing task
    - Only current lease holder can release
    - Task becomes claimable again
    - Supports --json output
    depends_on: []
    labels:
    - lease
    - m3
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941296'
    updated_at: '2025-12-27T10:18:05.941297'
  F025:
    title: Implement automatic lease expiry handling
    description: M3 leases. Core expiry behavior. All queries that check for active
      leases must filter by expires_at > now. No daemon needed.
    acceptance_criteria:
    - Expired leases filtered out at read time
    - No background daemon required
    - task next excludes expired claims
    - Expired tasks become claimable
    - Consistent expiry logic across all commands
    depends_on: []
    labels:
    - lease
    - m3
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941300'
    updated_at: '2025-12-27T10:18:05.941301'
  F026:
    title: Implement concurrent claim atomicity
    description: M3 leases. Critical correctness requirement. Use SQLite BEGIN IMMEDIATE
      or EXCLUSIVE transaction. Test with multiprocessing.
    acceptance_criteria:
    - Two simultaneous claims result in exactly one success
    - SQLite transaction isolation
    - No race conditions in claim logic
    - Concurrency test passes with multiple processes
    depends_on: []
    labels:
    - lease
    - m3
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:18:05.941304'
    updated_at: '2025-12-27T10:18:05.941305'
  F027:
    title: Implement lodestar msg send command
    description: M4 messaging. Store from_agent_id and to_type and to_id. Text in
      --text flag. Optional meta as JSON.
    acceptance_criteria:
    - Sends message to agent or task thread
    - Supports --to agent:A1 format
    - Supports --to task:T123 format
    - Stores in runtime.sqlite messages table
    - Returns message_id
    - Supports --json output
    depends_on: []
    labels:
    - messaging
    - m4
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941309'
    updated_at: '2025-12-27T10:18:05.941309'
  F028:
    title: Implement lodestar msg inbox command
    description: M4 messaging. Filter by to_type=agent and to_id=current_agent_id.
      Cursor can be message_id or timestamp.
    acceptance_criteria:
    - Lists messages sent to current agent
    - Supports --since cursor for pagination
    - Returns messages in chronological order
    - Returns cursor for next page
    - Supports --json output
    depends_on: []
    labels:
    - messaging
    - m4
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941313'
    updated_at: '2025-12-27T10:18:05.941313'
  F029:
    title: Implement lodestar msg thread command
    description: M4 messaging. Filter by to_type=task and to_id=task_id. Thread allows
      agents to discuss a specific task.
    acceptance_criteria:
    - Lists messages for a task thread
    - Supports --since cursor for pagination
    - Returns messages in chronological order
    - Returns cursor for next page
    - Supports --json output
    depends_on: []
    labels:
    - messaging
    - m4
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941317'
    updated_at: '2025-12-27T10:18:05.941317'
  F030:
    title: Implement lodestar mcp serve command
    description: M5 optional. MCP server for agents that prefer tool calls. Use mcp
      SDK. Each CLI command becomes an MCP tool.
    acceptance_criteria:
    - Starts MCP server on stdio or socket
    - Exposes all CLI operations as MCP tools
    - Tools mirror CLI command structure
    - Local-only authentication
    - Supports --json output
    depends_on: []
    labels:
    - mcp
    - m5
    locks: []
    priority: 3
    status: ready
    created_at: '2025-12-27T10:18:05.941323'
    updated_at: '2025-12-27T10:18:05.941324'
  F031:
    title: Implement lodestar export snapshot command
    description: For CI systems and external dashboards. Combine spec.yaml data with
      runtime.sqlite data into single snapshot.
    acceptance_criteria:
    - Exports combined spec and runtime state
    - Includes all tasks with claim status
    - Includes all active agents
    - Includes message counts
    - JSON format output
    - Useful for CI and external tools
    depends_on: []
    labels:
    - cli
    - m2
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:18:05.941328'
    updated_at: '2025-12-27T10:18:05.941329'
  TEST-001:
    title: Test task creation
    description: ''
    acceptance_criteria: []
    depends_on: []
    labels: []
    locks: []
    priority: 100
    status: verified
    created_at: '2025-12-27T10:18:05.941359'
    updated_at: '2025-12-27T10:18:13.535341'
  D001:
    title: Set up mkdocs with Material theme
    description: Initialize mkdocs project structure with Material theme. Create docs/
      directory, mkdocs.yml configuration, and basic navigation structure.
    acceptance_criteria: []
    depends_on: []
    labels:
    - docs
    - m6
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:25:16.712804'
    updated_at: '2025-12-27T10:36:58.624896'
  D002:
    title: Write getting started guide
    description: Document installation, quickstart, and first steps. Cover uv install,
      lodestar init, agent join, claiming first task.
    acceptance_criteria: []
    depends_on:
    - D001
    labels:
    - docs
    - m6
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T10:25:32.629762'
    updated_at: '2025-12-27T10:38:23.613196'
  D003:
    title: Document CLI command reference
    description: Auto-generate or manually document all CLI commands with examples.
      Use typer-cli or manual extraction. Include all flags and output examples.
    acceptance_criteria: []
    depends_on:
    - D001
    labels:
    - docs
    - m6
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:25:33.728180'
    updated_at: '2025-12-27T10:42:47.803255'
  D004:
    title: Document architecture and concepts
    description: Explain two-plane model, spec vs runtime, task lifecycle, lease mechanics,
      DAG scheduling. Include diagrams.
    acceptance_criteria: []
    depends_on:
    - D001
    labels:
    - docs
    - m6
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:25:34.890585'
    updated_at: '2025-12-27T10:45:30.251172'
  D005:
    title: Write agent workflow guide
    description: 'Document how agents should use lodestar: session start, claiming,
      working, completing, handoffs. Cover both human and AI agent workflows.'
    acceptance_criteria: []
    depends_on:
    - D002
    labels:
    - docs
    - m6
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T10:25:36.087490'
    updated_at: '2025-12-27T10:46:57.563052'
  D006:
    title: Set up docs build and deployment
    description: Configure GitHub Actions for mkdocs build. Set up GitHub Pages deployment.
      Add docs build to CI checks.
    acceptance_criteria: []
    depends_on:
    - D001
    labels:
    - docs
    - m6
    locks: []
    priority: 3
    status: verified
    created_at: '2025-12-27T10:25:37.271669'
    updated_at: '2025-12-27T10:48:37.109944'
  D007:
    title: Make README.md production ready for GitHub
    description: 'WHAT: Rewrite README.md to be a professional, production-ready landing
      page for the GitHub repository. Should attract users and clearly communicate
      value.


      WHERE: README.md (root)


      WHY: Current README is minimal placeholder. Need professional presence for public
      GitHub launch.


      ACCEPT:

      1) Has badges: PyPI version, CI status, docs link

      2) Clear value proposition explaining what Lodestar does and why

      3) Key features section highlighting: multi-agent coordination, lease-based
      claims, two-plane model, self-documenting CLI

      4) Installation section with uv and pip options

      5) Quick start that actually works (use ''uv run lodestar'' for dev)

      6) Link to full documentation (docs/ or GitHub Pages)

      7) Architecture overview mentioning spec.yaml vs runtime.sqlite

      8) Contributing section

      9) License section with link to LICENSE file


      CONTEXT:

      - See docs/index.md for landing page content to adapt

      - See docs/getting-started.md for installation/quickstart patterns

      - See docs/concepts/two-plane-model.md for architecture explanation

      - Package name is ''lodestar-cli'' on PyPI

      - CI is GitHub Actions (.github/workflows/)

      - Docs deploy to GitHub Pages'
    acceptance_criteria: []
    depends_on: []
    labels:
    - docs
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T13:15:53.183275'
    updated_at: '2025-12-27T13:22:58.344666'
  TEST-002:
    title: Implement webhook notification system
    description: Implement a webhook notification system based on the API design from
      TEST-001. Coordinate with the agent working on TEST-001 to clarify design decisions.
      Create a mock implementation with documentation.
    acceptance_criteria: []
    depends_on:
    - TEST-001
    labels:
    - feature
    locks: []
    priority: 2
    status: ready
    created_at: '2025-12-27T14:48:37.441475'
    updated_at: '2025-12-27T14:48:37.441481'
  MSG-001:
    title: Fix or clarify task-scoped messaging
    description: 'PRIORITY: High. FROM: Agent communication test report (REPORT.md).
      ISSUE: ''lodestar msg thread task:<id>'' returns no messages even when agents
      discuss the task. Agents attempted ''--to task:<id>'' but messages didn''t appear
      in task threads. DECISION NEEDED: Either (1) fix task threading to work properly,
      or (2) remove the feature and document that direct agent-to-agent messaging
      is the primary pattern. ACCEPTANCE: Document the decision, update help text,
      ensure msg thread works or is removed, update docs/cli/msg.md with clarified
      usage patterns.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - messaging
    - m7
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T15:04:43.210080'
    updated_at: '2025-12-27T15:15:31.418218'
  MSG-002:
    title: Add message notification mechanism
    description: 'PRIORITY: High. FROM: Agent communication test report (REPORT.md).
      ISSUE: Agents poll ''lodestar msg inbox'' in loops with sleep delays, wasting
      cycles. SOLUTION: Add ''lodestar msg wait'' command that blocks until new message
      arrives. Also add message count to ''lodestar status'' output and ''--count''
      flag to ''msg inbox''. ACCEPTANCE: (1) Implement ''lodestar msg wait [--timeout
      SECONDS]'' that blocks on new messages, (2) Add message count to ''lodestar
      status'', (3) Add ''--count'' flag to ''msg inbox'', (4) Write tests for blocking
      behavior, (5) Update docs.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - messaging
    - m7
    locks: []
    priority: 1
    status: verified
    created_at: '2025-12-27T15:04:47.410231'
    updated_at: '2025-12-27T15:25:50.780781'
  AGT-001:
    title: Add agent metadata and discovery capabilities
    description: 'PRIORITY: High. FROM: Agent communication test report (REPORT.md).
      ISSUE: No way to discover what an agent specializes in. Agents can''t find the
      right collaborator easily. SOLUTION: (1) Add optional ''--role'' and ''--capabilities''
      fields to ''lodestar agent join'', (2) Store metadata in agents table, (3) Add
      ''lodestar agent find --capability <name>'' command, (4) Show metadata in ''lodestar
      agent list''. ACCEPTANCE: Extend agent join with optional metadata, implement
      agent find command, display metadata in agent list, update docs with examples
      of role/capability usage patterns.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - agent
    - m7
    locks: []
    priority: 1
    status: ready
    created_at: '2025-12-27T15:04:50.542272'
    updated_at: '2025-12-27T15:04:50.542277'
  MSG-003:
    title: Add message read status tracking
    description: 'PRIORITY: Medium. FROM: Agent communication test report (REPORT.md).
      ISSUE: No way for sender to know if recipient has read the message. SOLUTION:
      (1) Track when messages are retrieved by ''msg inbox'', (2) Add ''read_at''
      timestamp to messages table, (3) Add ''--show-read-status'' flag to ''msg inbox'',
      (4) Show read/unread indicator in inbox output. ACCEPTANCE: Database migration
      adds read_at field, inbox command updates read_at on retrieval, --show-read-status
      flag shows read timestamps, update JSON schema and docs.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - messaging
    - m7
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T15:04:53.836807'
    updated_at: '2025-12-27T15:27:13.777959'
  TSK-001:
    title: Enhance task status display with communication context
    description: 'PRIORITY: Medium. FROM: Agent communication test report (REPORT.md).
      ISSUE: When checking ''lodestar task show COMM-002'', there''s no indication
      of messages or agents working on related tasks. SOLUTION: (1) Show which agent
      is working on the task (from active lease), (2) Show message count related to
      task, (3) Display related agents who have sent messages about this task, (4)
      Add ''Related communications'' section to task show. ACCEPTANCE: task show includes
      current lease holder, message count, list of communicating agents, update docs
      with example output.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - task
    - m7
    locks: []
    priority: 2
    status: verified
    created_at: '2025-12-27T15:04:56.867433'
    updated_at: '2025-12-27T15:20:17.108116'
  DOC-001:
    title: Add agent coordination guide and templates
    description: 'PRIORITY: Medium. FROM: Agent communication test report (REPORT.md).
      NEED: Agents need guidance on coordination patterns. SOLUTION: Create docs/guides/agent-coordination.md
      with: (1) Example workflows for parallel agent work, (2) Message templates for
      common scenarios (requesting design, clarifying requirements, confirming completion),
      (3) Best practices for agent-to-agent communication, (4) Example multi-agent
      scenarios with full message flows. ACCEPTANCE: New guide created, covers discovery->communication->completion
      patterns, includes runnable examples, linked from main docs navigation.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - docs
    - m7
    locks: []
    priority: 2
    status: ready
    created_at: '2025-12-27T15:05:01.449174'
    updated_at: '2025-12-27T15:05:01.449179'
  MSG-004:
    title: Add message search and filtering
    description: 'PRIORITY: Low. FROM: Agent communication test report (REPORT.md).
      NEED: As agent conversations grow, finding specific messages becomes difficult.
      SOLUTION: (1) Add ''lodestar msg search --keyword <term>'' command, (2) Add
      ''--from <agent_id>'' filter to ''msg inbox'', (3) Add ''--since <date>'' and
      ''--until <date>'' filters, (4) Support combining filters. ACCEPTANCE: Implement
      msg search with keyword matching, add filtering options to inbox, support date
      range queries, update docs with search examples.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - messaging
    - m7
    locks: []
    priority: 3
    status: verified
    created_at: '2025-12-27T15:05:19.092843'
    updated_at: '2025-12-27T15:26:24.357336'
  AGT-002:
    title: Add agent availability status tracking
    description: 'PRIORITY: Low. FROM: Agent communication test report (REPORT.md).
      NEED: Know which agents are actively working vs idle. SOLUTION: (1) Add agent
      status field (active/idle/offline), (2) Auto-update status based on last activity,
      (3) Show status in ''agent list'', (4) Add configurable inactivity threshold.
      ACCEPTANCE: Extend agents table with status field, implement status calculation
      logic, display in agent list with color coding, make threshold configurable,
      update docs.'
    acceptance_criteria: []
    depends_on: []
    labels:
    - agent
    - m7
    locks: []
    priority: 3
    status: ready
    created_at: '2025-12-27T15:05:21.889544'
    updated_at: '2025-12-27T15:05:21.889549'
  F032:
    title: Implement lodestar task delete command
    description: 'Add task deletion with soft-delete semantics:

      - Implement as state change (status=''deleted''), not physical removal

      - If task is depended on by other tasks, exit gracefully with notice listing
      dependents

      - If task has downstream dependencies (depends_on this task), cascade delete
      them

      - Hide deleted tasks from task list by default

      - Add --include-deleted flag to task list to show deleted tasks

      - Add --cascade flag to explicitly confirm cascade deletion

      - Update task show to indicate if task is deleted'
    acceptance_criteria: []
    depends_on: []
    labels:
    - feature
    locks: []
    priority: 1
    status: ready
    created_at: '2025-12-27T15:46:04.462731'
    updated_at: '2025-12-27T15:46:04.462741'
  D010:
    title: Update CLI documentation for task delete command
    description: 'Update docs/cli/task.md to document:

      - lodestar task delete <id> command

      - --cascade flag behavior

      - Soft-delete semantics and how deleted tasks are hidden

      - --include-deleted flag on task list

      - Error messages when task has dependents

      - Examples of cascade deletion'
    acceptance_criteria: []
    depends_on:
    - F032
    labels:
    - docs
    locks: []
    priority: 2
    status: ready
    created_at: '2025-12-27T15:46:13.609680'
    updated_at: '2025-12-27T15:46:13.609686'
  D011:
    title: Update README for task delete feature
    description: 'Update README.md CLI reference section to include:

      - lodestar task delete command in quick reference

      - Brief description of soft-delete behavior

      - Update any task lifecycle mentions to include deletion'
    acceptance_criteria: []
    depends_on:
    - F032
    labels:
    - docs
    locks: []
    priority: 2
    status: ready
    created_at: '2025-12-27T15:46:21.334152'
    updated_at: '2025-12-27T15:46:21.334158'
  D012:
    title: Update CLAUDE.md CLI reference for task delete
    description: 'Update CLAUDE.md to include:

      - lodestar task delete command in CLI Command Reference section

      - Note about soft-delete behavior in Critical Patterns if relevant'
    acceptance_criteria: []
    depends_on:
    - F032
    labels:
    - docs
    locks: []
    priority: 2
    status: ready
    created_at: '2025-12-27T15:46:28.943346'
    updated_at: '2025-12-27T15:46:28.943351'
features:
  m0-skeleton:
  - F001
  - F002
  - F003
  - F004
  - F005
  - F006
  - F007
  - F008
  m1-agent-identity:
  - F009
  - F010
  - F011
  - F012
  m2-tasks:
  - F013
  - F014
  - F015
  - F016
  - F017
  - F018
  - F019
  - F020
  - F021
  - F031
  m3-leases:
  - F022
  - F023
  - F024
  - F025
  - F026
  m4-messaging:
  - F027
  - F028
  - F029
  m5-mcp:
  - F030
  m6-docs:
  - D001
  - D002
  - D003
  - D004
  - D005
  - D006
